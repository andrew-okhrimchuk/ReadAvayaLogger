<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Report</title>
</head>
<body>
<h3>Report on all calls</h3>
<div>

<!--
                 /*@thymesVar id="all_out_in" type="java.util.List<java.lang.String>"*/
-->
   <!-- /*@thymesVar id="TO" type="main.web.TO.TO"*/-->

    <form action="/" method="get"  th:object="${TO}">

      <p>
          <label class="control-label col-sm-3" >Enter start date and time:</label>
          <input type="datetime-local" class="form-control" th:field="*{start}" th:value="${{TO.start}}"><br/>
      </p>
      <p>
          <label class="control-label col-sm-3" >Enter end date and time:</label>
          <input type="datetime-local" class="form-control" th:field="*{end}"  th:value="${{TO.end}}"><br/>
      </p>
      <p>
          <input type="submit" value="Update report" name="submit">


          <label >
              <select class="form-control" th:field="*{answer_all_out_in}" >
                  <option th:each="iter: ${all_out_in}" th:value="${{iter}}" th:text="${iter}"></option>
              </select>
          </label>
      </p>
  </form>
</div>



<table border="1" cellpadding="8" cellspacing="0" width="50%">
    <thead>
    <tr>
      <!--  <th width="5%">Date start</th>
        <th width="5%">Date end</th>-->
        <th>#</th>
        <th width="8%">cond_code</th>
        <th width="8%">date</th>
        <th width="8%">sec_dur</th>
        <th width="8%">code_dial</th>
        <th width="8%">code_used</th>
        <th width="8%">dialed_num</th>
        <th width="8%">calling_num</th>
        <th width="8%">acct_code</th>
        <th width="8%">out_crt_id</th>
        <th width="8%">in_crt_id</th>
        <th width="8%">in_trk_code</th>
    </tr>
    </thead>
    <tbody>

<!--
        /*@thymesVar id="calls_list" type="java.util.List<main.nonBlockingEchoServer.util.ToCalls>"*/
-->
    <tr th:each="call,iter: ${calls_list}">
        <td th:text="${iter.count}"></td>
        <td th:text="${call.cond_code}"></td>
        <td th:text="${call.day} + '.' + ${call.month} + '.' + ${call.years}"></td>
        <td th:text="${call.sec_dur}"></td>
        <td th:text="${call.code_dial}"></td>
        <td th:text="${call.code_used}"></td>
        <td th:text="${call.dialed_num}"></td>
        <td th:text="${call.calling_num}"></td>
        <td th:text="${call.acct_code}"></td>
        <td th:text="${call.out_crt_id}"></td>
        <td th:text="${call.in_crt_id}"></td>
        <td th:text="${call.in_trk_code}"></td>

    </tr>
    </tbody>
</table>

</body>
</html>